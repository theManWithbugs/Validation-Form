{% load static %}
<!doctype html>
<html lang="pt-br">
    <head>
        <title>CADASTRO | ESTATISTICAS</title>
        <!-- Required meta tags -->
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

        <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
        <link href="{% static 'css/estatisticas.css' %}" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
        <link href="https://cdn.anychart.com/releases/v8/css/anychart-ui.min.css" type="text/css" rel="stylesheet">
        <link href="https://cdn.anychart.com/releases/v8/fonts/css/anychart-font.min.css" type="text/css" rel="stylesheet">
    </head>

    <body>
        {% include 'commons/include/navbar_form.html' %}
        {% block content %}
        <div class="container py-5">
            <div class="row row-cols-1 row-cols-md-4 g-4">
                <div class="col">
                    <div class="card h-100 text-center shadow">
                        <div class="card-body">
                            <div class="display-4 text-primary mb-2">
                                <i class="bi bi-people"></i>
                            </div>
                            <h2 class="card-title mb-3">{{ total_usuarios }}</h2>
                            <p class="card-text text-muted">Usuarios registrados</p>
                        </div>
                    </div>
                </div>
                
                <div class="col">
                    <div class="card h-100 text-center shadow">
                        <div class="card-body">
                            <div class="display-4 text-success mb-2">
                                <i class="bi bi-graph-up"></i>
                            </div>
                            <h2 class="card-title mb-3">{{ aumento_percentual }}</h2>
                            <p class="card-text text-muted">Aumento mensal</p>
                        </div>
                    </div>
                </div>
                
                <div class="col">
                    <div class="card h-100 text-center shadow">
                        <div class="card-body">
                            <div class="display-4 text-warning mb-2">
                                <i class="bi bi-star"></i>
                            </div>
                            <h2 class="card-title mb-3">4.8</h2>
                            <p class="card-text text-muted">Average Rating</p>
                        </div>
                    </div>
                </div>
                
                <div class="col">
                    <div class="card h-100 text-center shadow">
                        <div class="card-body">
                            <div class="display-4 text-danger mb-2">
                                <i class="bi bi-clock-history"></i>
                            </div>
                            <h2 class="card-title mb-3">98.3%</h2>
                            <p class="card-text text-muted">Uptime</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    <div class="container mt-3 mb-4">
  <div class="row">
    <div class="col-lg-6 col-md-8 col-sm-12 mx-auto">
      <div class="card">
        <div class="card-header">-</div>
        <div class="card-body">
          <h3 class="card-title mb-3" style="font-family: 'Times New Roman', Times, serif;">Porcentagem geral M e F</h3>
          <p class="card-text">Porcentagem Homens: {{ porcentagem_homens|floatformat:2 }}%;</p>
          <p class="card-text">Porcentagem Mulheres: {{ porcentagem_mulheres|floatformat:2 }}%</p>
        </div>
        <div class="card-footer text-muted">-</div>
      </div>
    </div>
  </div>
</div>
        
        <div id="container" style="width: 50%; height: 500px; margin-left: 25%;"></div>
        {% endblock content %}

        <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
        <script src="{% static 'js/popper.min.js' %}"></script>
        <script src="{% static 'js/all.min.js' %}"></script>
        <script src="https://cdn.anychart.com/releases/v8/js/anychart-base.min.js"></script>
        <script src="https://cdn.anychart.com/releases/v8/js/anychart-ui.min.js"></script>
        <script src="https://cdn.anychart.com/releases/v8/js/anychart-exports.min.js"></script>
        <script>
            anychart.onDocumentReady(function () {
                // create pie chart with passed data
                var chart = anychart.pie([
                    ['Department Stores', 6371664],
                    ['Discount Stores', 7216301],
                    ['Men\'s/Women\'s Stores', 1486621],
                    ['Juvenile Specialty Stores', 786622],
                    ['All other outlets', 900000]
                ]);
    
                // set chart title text settings
                chart
                    .title('ACME Corp. apparel sales through different retail channels')
                    // set chart radius
                    .radius('43%')
                    // create empty area in pie chart
                    .innerRadius('30%');
    
                // set container id for the chart
                chart.container('container');
                // initiate chart drawing
                chart.draw();
            });
        </script>
        {% include 'commons/include/footer.html' %}
    </body>
</html>
